<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="PageSpeed">
    <meta name="theme-color" content="#1a73e8">
    <meta name="description" content="Analyseer de snelheid en prestaties van websites">
    
    <title>PageSpeed Analyzer</title>
    
    <!-- PWA Icons -->
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="apple-touch-icon" sizes="152x152" href="icon-152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="icon-180.png">
    <link rel="apple-touch-icon" sizes="167x167" href="icon-167.png">
    <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="icon-512.png">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Splash Screens voor iOS -->
    <link rel="apple-touch-startup-image" href="splash-2048x2732.png" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2)">
    <link rel="apple-touch-startup-image" href="splash-1668x2388.png" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2)">
    <link rel="apple-touch-startup-image" href="splash-1536x2048.png" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2)">
    <link rel="apple-touch-startup-image" href="splash-1170x2532.png" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3)">
    <link rel="apple-touch-startup-image" href="splash-1125x2436.png" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)">
    <link rel="apple-touch-startup-image" href="splash-828x1792.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)">
    <link rel="apple-touch-startup-image" href="splash-750x1334.png" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)">
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <svg class="logo-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M13 10V3L4 14h7v7l9-11h-7z" fill="currentColor"/>
                    </svg>
                    <h1>PageSpeed</h1>
                </div>
                <button id="historyBtn" class="icon-btn" aria-label="Geschiedenis">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M13 3a9 9 0 0 0-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.954 8.954 0 0 0 13 21a9 9 0 0 0 0-18zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z" fill="currentColor"/>
                    </svg>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Input Section -->
            <section class="input-section">
                <form id="analyzeForm" class="analyze-form">
                    <div class="input-group">
                        <div class="url-input-wrapper">
                            <span class="url-prefix">https://</span>
                            <input 
                                type="text" 
                                id="urlInput" 
                                class="url-input" 
                                placeholder="example.com"
                                required
                                autocomplete="url"
                                autocapitalize="off"
                                autocorrect="off"
                            >
                        </div>
                        <button type="submit" class="analyze-btn" id="analyzeBtn">
                            <span class="btn-text">Analyseren</span>
                            <svg class="btn-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M8 5v14l11-7z" fill="currentColor"/>
                            </svg>
                        </button>
                    </div>
                    <div class="device-selector">
                        <label class="device-option">
                            <input type="radio" name="device" value="mobile" checked>
                            <span class="device-label">
                                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M17 1H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 18H7V5h10v14z" fill="currentColor"/>
                                </svg>
                                Mobiel
                            </span>
                        </label>
                        <label class="device-option">
                            <input type="radio" name="device" value="desktop">
                            <span class="device-label">
                                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M21 2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7v2H8v2h8v-2h-2v-2h7c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H3V4h18v12z" fill="currentColor"/>
                                </svg>
                                Desktop
                            </span>
                        </label>
                    </div>
                </form>
            </section>

            <!-- Loading State -->
            <div id="loadingState" class="loading-state hidden">
                <div class="spinner"></div>
                <p class="loading-text">Website wordt geanalyseerd...</p>
                <p class="loading-subtext">Dit kan tot 30 seconden duren</p>
            </div>

            <!-- Results Section -->
            <section id="resultsSection" class="results-section hidden">
                <!-- Score Card -->
                <div class="score-card">
                    <div class="score-circle" id="scoreCircle">
                        <svg class="score-svg" viewBox="0 0 120 120">
                            <circle class="score-bg" cx="60" cy="60" r="54"/>
                            <circle class="score-progress" id="scoreProgress" cx="60" cy="60" r="54"/>
                        </svg>
                        <div class="score-value">
                            <span id="scoreNumber">0</span>
                            <span class="score-max">/100</span>
                        </div>
                    </div>
                    <h2 class="score-title" id="scoreLabel">Bezig met laden...</h2>
                    <p class="analyzed-url" id="analyzedUrl"></p>
                </div>

                <!-- Metrics Grid -->
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-header">
                            <svg class="metric-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"/>
                            </svg>
                            <h3>First Contentful Paint</h3>
                        </div>
                        <p class="metric-value" id="fcpValue">-</p>
                        <p class="metric-description">Tijd tot eerste content zichtbaar is</p>
                    </div>

                    <div class="metric-card">
                        <div class="metric-header">
                            <svg class="metric-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z" fill="currentColor"/>
                            </svg>
                            <h3>Largest Contentful Paint</h3>
                        </div>
                        <p class="metric-value" id="lcpValue">-</p>
                        <p class="metric-description">Laadtijd van de grootste content</p>
                    </div>

                    <div class="metric-card">
                        <div class="metric-header">
                            <svg class="metric-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z" fill="currentColor"/>
                            </svg>
                            <h3>Cumulative Layout Shift</h3>
                        </div>
                        <p class="metric-value" id="clsValue">-</p>
                        <p class="metric-description">Visuele stabiliteit van de pagina</p>
                    </div>

                    <div class="metric-card">
                        <div class="metric-header">
                            <svg class="metric-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z" fill="currentColor"/>
                            </svg>
                            <h3>Time to Interactive</h3>
                        </div>
                        <p class="metric-value" id="ttiValue">-</p>
                        <p class="metric-description">Tijd tot pagina volledig interactief is</p>
                    </div>

                    <div class="metric-card">
                        <div class="metric-header">
                            <svg class="metric-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z" fill="currentColor"/>
                            </svg>
                            <h3>Speed Index</h3>
                        </div>
                        <p class="metric-value" id="siValue">-</p>
                        <p class="metric-description">Hoe snel content visueel verschijnt</p>
                    </div>

                    <div class="metric-card">
                        <div class="metric-header">
                            <svg class="metric-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z" fill="currentColor"/>
                            </svg>
                            <h3>Total Blocking Time</h3>
                        </div>
                        <p class="metric-value" id="tbtValue">-</p>
                        <p class="metric-description">Totale blokkerende tijd</p>
                    </div>
                </div>

                <!-- Performance Analysis -->
                <div id="analysisSection" class="analysis-section">
                    <h3 class="section-title">
                        <svg class="section-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z" fill="currentColor"/>
                        </svg>
                        Performance Analyse
                    </h3>
                    <div id="analysisContent" class="analysis-content"></div>
                </div>

                <!-- Opportunities -->
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-header">
                            <svg class="metric-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"/>
                            </svg>
                            <h3>First Contentful Paint</h3>
                        </div>
                        <p class="metric-value" id="fcpValue">-</p>
                        <p class="metric-description">Tijd tot eerste content zichtbaar is</p>
                    </div>

                    <div class="metric-card">
                        <div class="metric-header">
                            <svg class="metric-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z" fill="currentColor"/>
                            </svg>
                            <h3>Largest Contentful Paint</h3>
                        </div>
                        <p class="metric-value" id="lcpValue">-</p>
                        <p class="metric-description">Laadtijd van de grootste content</p>
                    </div>

                    <div class="metric-card">
                        <div class="metric-header">
                            <svg class="metric-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z" fill="currentColor"/>
                            </svg>
                            <h3>Cumulative Layout Shift</h3>
                        </div>
                        <p class="metric-value" id="clsValue">-</p>
                        <p class="metric-description">Visuele stabiliteit van de pagina</p>
                    </div>

                    <div class="metric-card">
                        <div class="metric-header">
                            <svg class="metric-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z" fill="currentColor"/>
                            </svg>
                            <h3>Time to Interactive</h3>
                        </div>
                        <p class="metric-value" id="ttiValue">-</p>
                        <p class="metric-description">Tijd tot pagina volledig interactief is</p>
                    </div>

                    <div class="metric-card">
                        <div class="metric-header">
                            <svg class="metric-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z" fill="currentColor"/>
                            </svg>
                            <h3>Speed Index</h3>
                        </div>
                        <p class="metric-value" id="siValue">-</p>
                        <p class="metric-description">Hoe snel content visueel verschijnt</p>
                    </div>

                    <div class="metric-card">
                        <div class="metric-header">
                            <svg class="metric-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z" fill="currentColor"/>
                            </svg>
                            <h3>Total Blocking Time</h3>
                        </div>
                        <p class="metric-value" id="tbtValue">-</p>
                        <p class="metric-description">Totale blokkerende tijd</p>
                    </div>
                </div>

                <!-- Opportunities -->
                <div id="opportunitiesSection" class="opportunities-section">
                    <h3 class="section-title">
                        <svg class="section-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" fill="currentColor"/>
                        </svg>
                        Verbetermogelijkheden
                    </h3>
                    <div id="opportunitiesList" class="opportunities-list"></div>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button id="saveResultBtn" class="action-btn secondary">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z" fill="currentColor"/>
                        </svg>
                        Opslaan
                    </button>
                    <button id="shareResultBtn" class="action-btn secondary">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z" fill="currentColor"/>
                        </svg>
                        Delen
                    </button>
                    <button id="newAnalysisBtn" class="action-btn primary">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z" fill="currentColor"/>
                        </svg>
                        Nieuwe analyse
                    </button>
                </div>
            </section>

            <!-- History Modal -->
            <div id="historyModal" class="modal hidden">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>Analyse Geschiedenis</h2>
                        <button id="closeHistoryBtn" class="close-btn">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" fill="currentColor"/>
                            </svg>
                        </button>
                    </div>
                    <div id="historyList" class="history-list"></div>
                    <button id="clearHistoryBtn" class="action-btn secondary clear-history">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z" fill="currentColor"/>
                        </svg>
                        Wis geschiedenis
                    </button>
                </div>
            </div>

            <!-- Error Message -->
            <div id="errorMessage" class="error-message hidden">
                <svg class="error-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z" fill="currentColor"/>
                </svg>
                <p id="errorText"></p>
            </div>
        </main>

        <!-- Install Prompt -->
        <div id="installPrompt" class="install-prompt hidden">
            <div class="install-content">
                <svg class="install-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" fill="currentColor"/>
                </svg>
                <div class="install-text">
                    <h3>Installeer PageSpeed</h3>
                    <p>Voeg toe aan je beginscherm voor snelle toegang</p>
                </div>
                <button id="installBtn" class="install-btn">Installeren</button>
                <button id="dismissInstallBtn" class="dismiss-btn">âœ•</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js')
                .then(reg => console.log('Service Worker geregistreerd'))
                .catch(err => console.log('Service Worker registratie mislukt', err));
        }
    </script>
</body>
</html>
